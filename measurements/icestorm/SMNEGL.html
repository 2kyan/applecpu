<html><head><title>Icestorm: SMNEGL measurements</title></head><body><style>body { background-color: #E7F2F8 }</style>
		<style>
		input[type=checkbox] {
			display: none;
		}
		input[type=checkbox]:checked ~ .remove-check {
		    display: none;
		}
		input[type=checkbox] ~ label > p::before {
			content: "\25BC\A0";
			width: 50px;
		font-family: "Arial", monospace;
		}
		input[type=checkbox]:checked ~ label > p::before {
			content: "\25BA\A0";
			width: 50px;
			font-family: "Arial", monospace;
		}
		pre { margin: 0; }
		label {
			cursor: pointer;
		}
		.clicky {
			text-decoration: underline;
		}
		td {
			text-align: right;
		}
		thead > tr > td {
			font-weight: bold;
			text-align: center;
		}
		</style>
		<pre><strong>Apple Microarchitecture Research</strong> by <a href="https://twitter.com/dougallj">Dougall Johnson</a>

M1/A14 P-core (Firestorm): <a href="../../firestorm.html">Overview</a> | <a href="../../firestorm-int.html">Base Instructions</a> | <a href="../../firestorm-simd.html">SIMD and FP Instructions</a>
M1/A14 E-core (Icestorm):  <a href="../../icestorm.html">Overview</a> | <a href="../../icestorm-int.html">Base Instructions</a> | <a href="../../icestorm-simd.html">SIMD and FP Instructions</a>

</pre><h1>SMNEGL</h1><h2>Test 1: uops</h2><div style="margin-left: 40px"><p>Code:</p><pre>  smnegl x0, w0, w1</pre><div><input type="checkbox" id="checkbox-0" checked="checked"><label for="checkbox-0"><p>Initialization</p></label><div class="remove-check">
<pre>  mov x0, 1
  mov x1, 2</pre></div></div><p>(no loop instructions)</p><h3>1000 unrolls and 1 iteration</h3><div style="margin-left: 40px"><p>Retires: 1.000</p><p>Issues: 1.000</p><p>Integer unit issues: 1.001</p><p>Load/store unit issues: 0.000</p><p>SIMD/FP unit issues: 0.000</p><div><input type="checkbox" id="checkbox-1" checked="checked"><label for="checkbox-1"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>int uops in schedulers (59)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map int uop inputs (7f)</td><td>? int output thing (e9)</td><td>? int retires (ef)</td></tr></thead><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr><tr><td>1004</td><td>3030</td><td>1001</td><td>1001</td><td>1000</td><td>25856</td><td>1000</td><td>1000</td><td>2000</td><td>1001</td><td>1000</td></tr></table></div></div></div></div><h2>Test 2: Latency 1->2</h2><div style="margin-left: 40px"><p>Code:</p><pre>  smnegl x0, w0, w1</pre><div><input type="checkbox" id="checkbox-2" checked="checked"><label for="checkbox-2"><p>Initialization</p></label><div class="remove-check">
<pre>  mov x0, 1
  mov x1, 2</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 3.0030</p><div><input type="checkbox" id="checkbox-3" checked="checked"><label for="checkbox-3"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>int uops in schedulers (59)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map int uop inputs (7f)</td><td>? int output thing (e9)</td><td>? int retires (ef)</td></tr></thead><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260150</td><td>10100</td><td>10206</td><td>20212</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 3.0030</p><div><input type="checkbox" id="checkbox-4" checked="checked"><label for="checkbox-4"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>int uops in schedulers (59)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map int uop inputs (7f)</td><td>map ldst uop inputs (80)</td><td>? int output thing (e9)</td><td>? ldst retires (ed)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10025</td><td>30060</td><td>10026</td><td>10026</td><td>10034</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>0</td><td>10011</td><td>0</td><td>0</td><td>10010</td></tr></table></div></div></div></div><h2>Test 3: Latency 1->3</h2><div style="margin-left: 40px"><p>Code:</p><pre>  smnegl x0, w1, w0</pre><div><input type="checkbox" id="checkbox-5" checked="checked"><label for="checkbox-5"><p>Initialization</p></label><div class="remove-check">
<pre>  mov x0, 1
  mov x1, 2</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 3.0030</p><div><input type="checkbox" id="checkbox-6" checked="checked"><label for="checkbox-6"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>int uops in schedulers (59)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map int uop inputs (7f)</td><td>? int output thing (e9)</td><td>? int retires (ef)</td></tr></thead><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260144</td><td>10100</td><td>10206</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr><tr><td>10204</td><td>30030</td><td>10101</td><td>10101</td><td>10100</td><td>260156</td><td>10100</td><td>10208</td><td>20216</td><td>10001</td><td>10100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 3.0030</p><div><input type="checkbox" id="checkbox-7" checked="checked"><label for="checkbox-7"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>int uops in schedulers (59)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map int uop inputs (7f)</td><td>? int output thing (e9)</td><td>? int retires (ef)</td></tr></thead><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259907</td><td>10020</td><td>10020</td><td>20084</td><td>10016</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20145</td><td>10032</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr><tr><td>10024</td><td>30030</td><td>10021</td><td>10021</td><td>10020</td><td>259916</td><td>10020</td><td>10020</td><td>20020</td><td>10011</td><td>10010</td></tr></table></div></div></div></div><h2>Test 4: throughput</h2><div style="margin-left: 40px"><p>Count: 8</p><p>Code:</p><pre>  smnegl x0, w8, w9
  smnegl x1, w8, w9
  smnegl x2, w8, w9
  smnegl x3, w8, w9
  smnegl x4, w8, w9
  smnegl x5, w8, w9
  smnegl x6, w8, w9
  smnegl x7, w8, w9</pre><div><input type="checkbox" id="checkbox-8" checked="checked"><label for="checkbox-8"><p>Initialization</p></label><div class="remove-check">
<pre>  mov x8, 9
  mov x9, 10</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code divided by count): 1.0004</p><div><input type="checkbox" id="checkbox-9" checked="checked"><label for="checkbox-9"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>int uops in schedulers (59)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map int uop inputs (7f)</td><td>? int output thing (e9)</td><td>? int retires (ef)</td></tr></thead><tr><td>80204</td><td>80054</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80210</td><td>160220</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160280</td><td>80020</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr><tr><td>80204</td><td>80034</td><td>80104</td><td>80104</td><td>80105</td><td>240315</td><td>80105</td><td>80212</td><td>160224</td><td>80004</td><td>80100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code divided by count): 1.0004</p><div><input type="checkbox" id="checkbox-10" checked="checked"><label for="checkbox-10"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>dispatch int uop (56)</td><td>dispatch ldst uop (58)</td><td>int uops in schedulers (59)</td><td>simd uops in schedulers (5a)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map ldst uop (7d)</td><td>map int uop inputs (7f)</td><td>? int output thing (e9)</td><td>? int retires (ef)</td></tr></thead><tr><td>80024</td><td>80057</td><td>80025</td><td>80025</td><td>80026</td><td>0</td><td>240078</td><td>0</td><td>80026</td><td>80034</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr><tr><td>80024</td><td>80032</td><td>80021</td><td>80021</td><td>80020</td><td>0</td><td>240060</td><td>0</td><td>80020</td><td>80020</td><td>0</td><td>160020</td><td>80011</td><td>80010</td></tr></table></div></div></div></div></body></html>