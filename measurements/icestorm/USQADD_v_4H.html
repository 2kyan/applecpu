<html><head><title>Icestorm: USQADD (vector, 4H) measurements</title></head><body><style>body { background-color: #E7F2F8 }</style>
		<style>
		input[type=checkbox] {
			display: none;
		}
		input[type=checkbox]:checked ~ .remove-check {
		    display: none;
		}
		input[type=checkbox] ~ label > p::before {
			content: "\25BC\A0";
			width: 50px;
		font-family: "Arial", monospace;
		}
		input[type=checkbox]:checked ~ label > p::before {
			content: "\25BA\A0";
			width: 50px;
			font-family: "Arial", monospace;
		}
		pre { margin: 0; }
		label {
			cursor: pointer;
		}
		.clicky {
			text-decoration: underline;
		}
		td {
			text-align: right;
		}
		thead > tr > td {
			font-weight: bold;
			text-align: center;
		}
		</style>
		<pre><strong>Apple M1 Microarchitecture Research</strong> by <a href="https://twitter.com/dougallj">Dougall Johnson</a>

Firestorm: <a href="../../firestorm.html">Overview</a> | <a href="../../firestorm-int.html">Base Instructions</a> | <a href="../../firestorm-simd.html">SIMD and FP Instructions</a>
Icestorm:  <a href="../../icestorm.html">Overview</a> | <a href="../../icestorm-int.html">Base Instructions</a> | <a href="../../icestorm-simd.html">SIMD and FP Instructions</a>

</pre><h1>USQADD (vector, 4H)</h1><h2>Test 1: uops</h2><div style="margin-left: 40px"><p>Code:</p><pre>  usqadd v0.4h, v1.4h</pre><div><input type="checkbox" id="checkbox-0" checked="checked"><label for="checkbox-0"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1
  movi v1.16b, 2</pre></div></div><p>(no loop instructions)</p><h3>1000 unrolls and 1 iteration</h3><div style="margin-left: 40px"><p>Retires: 1.000</p><p>Issues: 1.000</p><p>Integer unit issues: 0.001</p><p>Load/store unit issues: 0.000</p><p>SIMD/FP unit issues: 1.000</p><div><input type="checkbox" id="checkbox-1" checked="checked"><label for="checkbox-1"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops fp/simd (57)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td></tr></thead><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>3033</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>75905</td><td>1000</td><td>1000</td><td>2000</td><td>1</td><td>1000</td></tr></table></div></div></div></div><h2>Test 2: Latency 1->1</h2><div style="margin-left: 40px"><p>Code:</p><pre>  usqadd v0.4h, v1.4h</pre><div><input type="checkbox" id="checkbox-2" checked="checked"><label for="checkbox-2"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1
  movi v1.16b, 2</pre></div></div><p>(SUBS/B.cc-based loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 3.0033</p><div><input type="checkbox" id="checkbox-3" checked="checked"><label for="checkbox-3"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10205</td><td>30066</td><td>10107</td><td>101</td><td>10006</td><td>100</td><td>10031</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 3.0033</p><div><input type="checkbox" id="checkbox-4" checked="checked"><label for="checkbox-4"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10006</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10025</td><td>30066</td><td>10027</td><td>21</td><td>10006</td><td>20</td><td>10031</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr></table></div></div></div></div><h2>Test 3: Latency 1->2</h2><div style="margin-left: 40px"><p>Code:</p><pre>  usqadd v0.4h, v0.4h</pre><div><input type="checkbox" id="checkbox-5" checked="checked"><label for="checkbox-5"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1</pre></div></div><p>(SUBS/B.cc-based loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 3.0033</p><div><input type="checkbox" id="checkbox-6" checked="checked"><label for="checkbox-6"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~dispatch ld/st (55)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10205</td><td>30066</td><td>10107</td><td>101</td><td>10006</td><td>0</td><td>100</td><td>10031</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20088</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>769451</td><td>10133</td><td>200</td><td>10042</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>30033</td><td>10101</td><td>101</td><td>10000</td><td>0</td><td>100</td><td>10000</td><td>300</td><td>768905</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>20008</td><td>1</td><td>10000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 3.0033</p><div><input type="checkbox" id="checkbox-7" checked="checked"><label for="checkbox-7"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>30033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>768905</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>20000</td><td>11</td><td>10000</td><td>10</td></tr></table></div></div></div></div><h2>Test 4: throughput</h2><div style="margin-left: 40px"><p>Count: 8</p><p>Code:</p><pre>  movi v0.16b, 0
  usqadd v0.4h, v8.4h
  movi v1.16b, 0
  usqadd v1.4h, v8.4h
  movi v2.16b, 0
  usqadd v2.4h, v8.4h
  movi v3.16b, 0
  usqadd v3.4h, v8.4h
  movi v4.16b, 0
  usqadd v4.4h, v8.4h
  movi v5.16b, 0
  usqadd v5.4h, v8.4h
  movi v6.16b, 0
  usqadd v6.4h, v8.4h
  movi v7.16b, 0
  usqadd v7.4h, v8.4h</pre><div><input type="checkbox" id="checkbox-8" checked="checked"><label for="checkbox-8"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v8.16b, 9</pre></div></div><p>(SUBS/B.cc-based loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 0.5011</p><div><input type="checkbox" id="checkbox-9" checked="checked"><label for="checkbox-9"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>160204</td><td>40514</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40110</td><td>80110</td><td>101</td><td>80009</td><td>100</td><td>80013</td><td>300</td><td>320056</td><td>80113</td><td>200</td><td>80013</td><td>200</td><td>160026</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>40086</td><td>80109</td><td>101</td><td>80008</td><td>100</td><td>80012</td><td>300</td><td>320052</td><td>80112</td><td>200</td><td>80012</td><td>200</td><td>160024</td><td>1</td><td>160000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 0.5052</p><div><input type="checkbox" id="checkbox-10" checked="checked"><label for="checkbox-10"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>160024</td><td>43764</td><td>80020</td><td>11</td><td>80009</td><td>10</td><td>80013</td><td>30</td><td>320052</td><td>80022</td><td>20</td><td>80012</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>41258</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40362</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40390</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40399</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40390</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40391</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40941</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40407</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>40408</td><td>80011</td><td>11</td><td>80000</td><td>10</td><td>80000</td><td>30</td><td>320000</td><td>80010</td><td>20</td><td>80000</td><td>20</td><td>160000</td><td>1</td><td>160000</td><td>10</td></tr></table></div></div></div></div><h2>Test 5: throughput</h2><div style="margin-left: 40px"><p>Count: 16</p><p>Code:</p><pre>  usqadd v0.4h, v16.4h
  usqadd v1.4h, v16.4h
  usqadd v2.4h, v16.4h
  usqadd v3.4h, v16.4h
  usqadd v4.4h, v16.4h
  usqadd v5.4h, v16.4h
  usqadd v6.4h, v16.4h
  usqadd v7.4h, v16.4h
  usqadd v8.4h, v16.4h
  usqadd v9.4h, v16.4h
  usqadd v10.4h, v16.4h
  usqadd v11.4h, v16.4h
  usqadd v12.4h, v16.4h
  usqadd v13.4h, v16.4h
  usqadd v14.4h, v16.4h
  usqadd v15.4h, v16.4h</pre><div><input type="checkbox" id="checkbox-11" checked="checked"><label for="checkbox-11"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v16.16b, 17</pre></div></div><p>(SUBS/B.cc-based loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 0.5002</p><div><input type="checkbox" id="checkbox-12" checked="checked"><label for="checkbox-12"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>160204</td><td>80081</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320028</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160107</td><td>101</td><td>160006</td><td>100</td><td>160010</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320124</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160107</td><td>101</td><td>160006</td><td>100</td><td>160010</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>80035</td><td>160105</td><td>101</td><td>160004</td><td>100</td><td>160008</td><td>300</td><td>640036</td><td>160108</td><td>200</td><td>160012</td><td>200</td><td>320024</td><td>1</td><td>160000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for "code"): 0.5002</p><div><input type="checkbox" id="checkbox-13" checked="checked"><label for="checkbox-13"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retires (01)</td><td>cycle (02)</td><td>inst issue (52)</td><td>~dispatch int (53)</td><td>~dispatch fp/simd (54)</td><td>~ops int (56)</td><td>~ops fp/simd (57)</td><td>huge thing int (59)</td><td>huge thing fp/simd (5b)</td><td>~fused-domain ops (78)</td><td>~sched ops int (7c)</td><td>~sched ops fp/simd (7e)</td><td>~dependencies int (7f)</td><td>~dependencies ld/st (80)</td><td>~dependencies fp/simd (81)</td><td>? int (e9)</td><td>? ld/st (ed)</td><td>? fp/simd (ee)</td><td>~int writes (ef)</td></tr></thead><tr><td>160024</td><td>80181</td><td>160015</td><td>11</td><td>160004</td><td>10</td><td>160008</td><td>30</td><td>640044</td><td>160020</td><td>20</td><td>160014</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640036</td><td>160018</td><td>20</td><td>160012</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>80035</td><td>160011</td><td>11</td><td>160000</td><td>10</td><td>160000</td><td>30</td><td>640000</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>320000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr></table></div></div></div></div></body></html>