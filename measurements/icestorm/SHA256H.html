<html><head><title>Icestorm: SHA256H measurements</title></head><body><style>body { background-color: #E7F2F8 }</style>
		<style>
		input[type=checkbox] {
			display: none;
		}
		input[type=checkbox]:checked ~ .remove-check {
		    display: none;
		}
		input[type=checkbox] ~ label > p::before {
			content: "\25BC\A0";
			width: 50px;
		font-family: "Arial", monospace;
		}
		input[type=checkbox]:checked ~ label > p::before {
			content: "\25BA\A0";
			width: 50px;
			font-family: "Arial", monospace;
		}
		pre { margin: 0; }
		label {
			cursor: pointer;
		}
		.clicky {
			text-decoration: underline;
		}
		td {
			text-align: right;
		}
		thead > tr > td {
			font-weight: bold;
			text-align: center;
		}
		</style>
		<pre><strong>Apple Microarchitecture Research</strong> by <a href="https://twitter.com/dougallj">Dougall Johnson</a>

M1/A14 P-core (Firestorm): <a href="../../firestorm.html">Overview</a> | <a href="../../firestorm-int.html">Base Instructions</a> | <a href="../../firestorm-simd.html">SIMD and FP Instructions</a>
M1/A14 E-core (Icestorm):  <a href="../../icestorm.html">Overview</a> | <a href="../../icestorm-int.html">Base Instructions</a> | <a href="../../icestorm-simd.html">SIMD and FP Instructions</a>

</pre><h1>SHA256H</h1><h2>Test 1: uops</h2><div style="margin-left: 40px"><p>Code:</p><pre>  sha256h q0, q1, v2.4s</pre><div><input type="checkbox" id="checkbox-0" checked="checked"><label for="checkbox-0"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1
  movi v1.16b, 2
  movi v2.16b, 3</pre></div></div><p>(no loop instructions)</p><h3>1000 unrolls and 1 iteration</h3><div style="margin-left: 40px"><p>Retires: 1.000</p><p>Issues: 1.000</p><p>Integer unit issues: 0.001</p><p>Load/store unit issues: 0.000</p><p>SIMD/FP unit issues: 1.000</p><div><input type="checkbox" id="checkbox-1" checked="checked"><label for="checkbox-1"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch simd uop (57)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map simd uop (7e)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td></tr></thead><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3072</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr><tr><td>1004</td><td>4034</td><td>1001</td><td>1</td><td>1000</td><td>1000</td><td>50608</td><td>1000</td><td>1000</td><td>3000</td><td>1</td><td>1000</td></tr></table></div></div></div></div><h2>Test 2: Latency 1->1</h2><div style="margin-left: 40px"><p>Code:</p><pre>  sha256h q0, q1, v2.4s</pre><div><input type="checkbox" id="checkbox-2" checked="checked"><label for="checkbox-2"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1
  movi v1.16b, 2
  movi v2.16b, 3</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 4.0034</p><div><input type="checkbox" id="checkbox-3" checked="checked"><label for="checkbox-3"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>40034</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>509608</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 4.0034</p><div><input type="checkbox" id="checkbox-4" checked="checked"><label for="checkbox-4"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10024</td><td>40034</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>509608</td><td>10020</td><td>20</td><td>10004</td><td>20</td><td>30012</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>40034</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>509608</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>40034</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>509608</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>40034</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>509608</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>40034</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>509882</td><td>10038</td><td>20</td><td>10024</td><td>20</td><td>31065</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>41005</td><td>10161</td><td>21</td><td>10140</td><td>20</td><td>10360</td><td>69</td><td>514266</td><td>10326</td><td>20</td><td>10430</td><td>20</td><td>30687</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>41102</td><td>10179</td><td>25</td><td>10154</td><td>24</td><td>10396</td><td>70</td><td>515811</td><td>10433</td><td>20</td><td>10587</td><td>24</td><td>31674</td><td>13</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>41154</td><td>10182</td><td>21</td><td>10161</td><td>20</td><td>10414</td><td>76</td><td>515651</td><td>10419</td><td>22</td><td>10560</td><td>20</td><td>31524</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>40799</td><td>10126</td><td>21</td><td>10105</td><td>20</td><td>10270</td><td>67</td><td>514266</td><td>10326</td><td>20</td><td>10431</td><td>22</td><td>31359</td><td>12</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>40907</td><td>10147</td><td>21</td><td>10126</td><td>20</td><td>10324</td><td>67</td><td>514540</td><td>10344</td><td>20</td><td>10460</td><td>22</td><td>31602</td><td>12</td><td>10000</td><td>10</td></tr></table></div></div></div></div><h2>Test 3: Latency 1->2</h2><div style="margin-left: 40px"><p>Code:</p><pre>  sha256h q0, q0, v1.4s</pre><div><input type="checkbox" id="checkbox-5" checked="checked"><label for="checkbox-5"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1
  movi v1.16b, 2</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 5.0033</p><div><input type="checkbox" id="checkbox-6" checked="checked"><label for="checkbox-6"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10006</td><td>200</td><td>30018</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10006</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30084</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 5.0033</p><div><input type="checkbox" id="checkbox-7" checked="checked"><label for="checkbox-7"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10006</td><td>20</td><td>30018</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr></table></div></div></div></div><h2>Test 4: Latency 1->3</h2><div style="margin-left: 40px"><p>Code:</p><pre>  sha256h q0, q1, v0.4s</pre><div><input type="checkbox" id="checkbox-8" checked="checked"><label for="checkbox-8"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v0.16b, 1
  movi v1.16b, 2</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 5.0033</p><div><input type="checkbox" id="checkbox-9" checked="checked"><label for="checkbox-9"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10204</td><td>50128</td><td>10111</td><td>101</td><td>10010</td><td>100</td><td>10034</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10006</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50365</td><td>10138</td><td>103</td><td>10035</td><td>102</td><td>10119</td><td>316</td><td>641088</td><td>10207</td><td>206</td><td>10152</td><td>200</td><td>30168</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50177</td><td>10120</td><td>105</td><td>10015</td><td>104</td><td>10051</td><td>300</td><td>639686</td><td>10116</td><td>200</td><td>10032</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr><tr><td>10204</td><td>50033</td><td>10101</td><td>101</td><td>10000</td><td>100</td><td>10000</td><td>300</td><td>639520</td><td>10100</td><td>200</td><td>10004</td><td>200</td><td>30012</td><td>1</td><td>10000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code): 5.0033</p><div><input type="checkbox" id="checkbox-10" checked="checked"><label for="checkbox-10"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10006</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10004</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr><tr><td>10024</td><td>50033</td><td>10021</td><td>21</td><td>10000</td><td>20</td><td>10000</td><td>70</td><td>639520</td><td>10020</td><td>20</td><td>10000</td><td>20</td><td>30000</td><td>11</td><td>10000</td><td>10</td></tr></table></div></div></div></div><h2>Test 5: throughput</h2><div style="margin-left: 40px"><p>Count: 8</p><p>Code:</p><pre>  movi v0.16b, 0
  sha256h q0, q8, v9.4s
  movi v1.16b, 0
  sha256h q1, q8, v9.4s
  movi v2.16b, 0
  sha256h q2, q8, v9.4s
  movi v3.16b, 0
  sha256h q3, q8, v9.4s
  movi v4.16b, 0
  sha256h q4, q8, v9.4s
  movi v5.16b, 0
  sha256h q5, q8, v9.4s
  movi v6.16b, 0
  sha256h q6, q8, v9.4s
  movi v7.16b, 0
  sha256h q7, q8, v9.4s</pre><div><input type="checkbox" id="checkbox-11" checked="checked"><label for="checkbox-11"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v8.16b, 9
  movi v9.16b, 10</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code divided by count): 2.0004</p><div><input type="checkbox" id="checkbox-12" checked="checked"><label for="checkbox-12"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>schedule ldst uop (55)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999757</td><td>80100</td><td>200</td><td>80005</td><td>200</td><td>240012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240015</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240102</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>2001002</td><td>80266</td><td>200</td><td>80208</td><td>202</td><td>240366</td><td>2</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240102</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>160035</td><td>80101</td><td>101</td><td>80000</td><td>0</td><td>100</td><td>80000</td><td>300</td><td>1999758</td><td>80100</td><td>200</td><td>80004</td><td>200</td><td>240102</td><td>1</td><td>160000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code divided by count): 2.0004</p><div><input type="checkbox" id="checkbox-13" checked="checked"><label for="checkbox-13"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>schedule ldst uop (55)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>dispatch ldst uop (58)</td><td>int uops in schedulers (59)</td><td>simd uops in schedulers (5a)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map ldst uop (7d)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999915</td><td>80032</td><td>20</td><td>0</td><td>80033</td><td>20</td><td>240015</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999758</td><td>80010</td><td>20</td><td>0</td><td>80000</td><td>20</td><td>240000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999916</td><td>80032</td><td>20</td><td>0</td><td>80034</td><td>20</td><td>240000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160192</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>12536</td><td>453444</td><td>264821</td><td>1381143</td><td>84696</td><td>22853</td><td>14151</td><td>55429</td><td>20</td><td>240015</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999758</td><td>80010</td><td>20</td><td>0</td><td>80000</td><td>20</td><td>240102</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>152563</td><td>149522</td><td>82703</td><td>8484</td><td>68977</td><td>5242</td><td>8018</td><td>68637</td><td>0</td><td>30</td><td>0</td><td>1999769</td><td>80034</td><td>20</td><td>0</td><td>80028</td><td>20</td><td>240000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999758</td><td>80010</td><td>20</td><td>0</td><td>80000</td><td>20</td><td>240000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999758</td><td>80010</td><td>20</td><td>0</td><td>80000</td><td>20</td><td>240000</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999915</td><td>80032</td><td>20</td><td>0</td><td>80033</td><td>20</td><td>240096</td><td>1</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>160035</td><td>80011</td><td>11</td><td>80000</td><td>0</td><td>10</td><td>80000</td><td>0</td><td>30</td><td>0</td><td>1999758</td><td>80010</td><td>20</td><td>0</td><td>80000</td><td>20</td><td>240000</td><td>1</td><td>160000</td><td>10</td></tr></table></div></div></div></div><h2>Test 6: throughput</h2><div style="margin-left: 40px"><p>Count: 16</p><p>Code:</p><pre>  sha256h q0, q16, v17.4s
  sha256h q1, q16, v17.4s
  sha256h q2, q16, v17.4s
  sha256h q3, q16, v17.4s
  sha256h q4, q16, v17.4s
  sha256h q5, q16, v17.4s
  sha256h q6, q16, v17.4s
  sha256h q7, q16, v17.4s
  sha256h q8, q16, v17.4s
  sha256h q9, q16, v17.4s
  sha256h q10, q16, v17.4s
  sha256h q11, q16, v17.4s
  sha256h q12, q16, v17.4s
  sha256h q13, q16, v17.4s
  sha256h q14, q16, v17.4s
  sha256h q15, q16, v17.4s</pre><div><input type="checkbox" id="checkbox-14" checked="checked"><label for="checkbox-14"><p>Initialization</p></label><div class="remove-check">
<pre>  movi v16.16b, 17
  movi v17.16b, 18</pre></div></div><p>(fused SUBS/B.cc loop)</p><h3>100 unrolls and 100 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code divided by count): 2.0002</p><div><input type="checkbox" id="checkbox-15" checked="checked"><label for="checkbox-15"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>dispatch ldst uop (58)</td><td>int uops in schedulers (59)</td><td>simd uops in schedulers (5a)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map ldst uop (7d)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999757</td><td>160100</td><td>200</td><td>0</td><td>160006</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999916</td><td>160122</td><td>200</td><td>0</td><td>160036</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999758</td><td>160100</td><td>200</td><td>0</td><td>160004</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999915</td><td>160122</td><td>200</td><td>0</td><td>160034</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999758</td><td>160100</td><td>200</td><td>0</td><td>160004</td><td>200</td><td>480108</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999916</td><td>160122</td><td>200</td><td>0</td><td>160032</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999758</td><td>160100</td><td>200</td><td>0</td><td>160004</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999758</td><td>160100</td><td>200</td><td>0</td><td>160004</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999758</td><td>160100</td><td>200</td><td>0</td><td>160004</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr><tr><td>160204</td><td>320035</td><td>160101</td><td>101</td><td>160000</td><td>100</td><td>160000</td><td>0</td><td>300</td><td>0</td><td>3999758</td><td>160100</td><td>200</td><td>0</td><td>160004</td><td>200</td><td>480012</td><td>1</td><td>160000</td><td>100</td></tr></table></div></div></div><h3>1000 unrolls and 10 iterations</h3><div style="margin-left: 40px"><p>Result (median cycles for code divided by count): 2.0002</p><div><input type="checkbox" id="checkbox-16" checked="checked"><label for="checkbox-16"><p>Recorded non-zero counters (first 10 of 64 runs)</p></label><div class="remove-check">
<table><thead><tr><td>retire uop (01)</td><td>cycle (02)</td><td>schedule uop (52)</td><td>schedule int uop (53)</td><td>schedule simd uop (54)</td><td>schedule ldst uop (55)</td><td>dispatch int uop (56)</td><td>dispatch simd uop (57)</td><td>int uops in schedulers (59)</td><td>ldst uops in schedulers (5b)</td><td>dispatch uop (78)</td><td>map int uop (7c)</td><td>map simd uop (7e)</td><td>map int uop inputs (7f)</td><td>map ldst uop inputs (80)</td><td>map simd uop inputs (81)</td><td>? int output thing (e9)</td><td>? ldst retires (ed)</td><td>? simd retires (ee)</td><td>? int retires (ef)</td></tr></thead><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999757</td><td>160010</td><td>20</td><td>160006</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999930</td><td>160032</td><td>20</td><td>160036</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999930</td><td>160032</td><td>20</td><td>160036</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160025</td><td>320072</td><td>160021</td><td>11</td><td>160010</td><td>0</td><td>10</td><td>160022</td><td>30</td><td>3999758</td><td>160010</td><td>20</td><td>160004</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999758</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>480105</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999758</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999758</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>480108</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999916</td><td>160032</td><td>20</td><td>160036</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999758</td><td>160010</td><td>20</td><td>160000</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr><tr><td>160024</td><td>320035</td><td>160011</td><td>11</td><td>160000</td><td>0</td><td>10</td><td>160000</td><td>30</td><td>3999916</td><td>160032</td><td>20</td><td>160036</td><td>20</td><td>0</td><td>480000</td><td>1</td><td>0</td><td>160000</td><td>10</td></tr></table></div></div></div></div></body></html>